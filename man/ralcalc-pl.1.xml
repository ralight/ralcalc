<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "/usr/share/sgml/docbook/xml-dtd-4.1.2/docbookx.dtd">
<refentry xml:id="ralcalc">
	<refmeta>
		<refentrytitle>ralcalc</refentrytitle>
		<manvolnum>1</manvolnum>
	</refmeta>

	<refnamediv>
		<refname>ralcalc</refname>
		<refpurpose>prosty kalkulator uruchamiany z wiersza poleceń</refpurpose>
	</refnamediv>

	<refsynopsisdiv>
		<cmdsynopsis>
			<command>ralcalc</command>
			<group choice="plain">
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-a</option></arg>
						<arg choice="plain"><option>--all</option></arg>
					</group>
				</arg>
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-h</option></arg>
						<arg choice="plain"><option>--help</option></arg>
					</group>
				</arg>
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-v</option></arg>
						<arg choice="plain"><option>--version</option></arg>
					</group>
				</arg>
			</group>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>ralcalc</command>
			<group choice="opt">
				<arg><option>-e</option></arg>
				<arg><option>-r</option></arg>
			</group>
			<arg><option>-f</option> <replaceable>nazwa_pliku</replaceable></arg>
			<arg><option>-i</option></arg>
			<arg><option>-q</option></arg>
			<arg><option>-s</option><replaceable>przedrostek</replaceable></arg>
			<arg choice="plain"><replaceable>równanie</replaceable></arg>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>=</command>
			<group choice="plain">
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-a</option></arg>
						<arg choice="plain"><option>--all</option></arg>
					</group>
				</arg>
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-h</option></arg>
						<arg choice="plain"><option>--help</option></arg>
					</group>
				</arg>
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-v</option></arg>
						<arg choice="plain"><option>--version</option></arg>
					</group>
				</arg>
			</group>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>=</command>
			<group choice="opt">
				<arg><option>-e</option></arg>
				<arg><option>-r</option></arg>
			</group>
			<arg><option>-f</option> <replaceable>nazwa_pliku</replaceable></arg>
			<arg><option>-i</option></arg>
			<arg><option>-q</option></arg>
			<arg><option>-s</option><replaceable>przedrostek</replaceable></arg>
			<arg choice="plain"><replaceable>równanie</replaceable></arg>
		</cmdsynopsis>
	</refsynopsisdiv>

	<refsect1>
		<title>Opis</title>
		<para><command>ralcalc</command> is a command line calculator designed for
		very quick calculations where perhaps only a single result is wanted
		without having to start and then quit a program.</para>

		<para><command>ralcalc</command> jest instalowany także jako polecenie <command>=</command>, dzięki czemu korzystanie z niego jest jeszcze szybsze.</para>
	</refsect1>

	<refsect1>
		<title>Opcje</title>
		<variablelist>
			<varlistentry>
				<term><option>-a</option></term>
				<term><option>--all</option></term>
				<listitem>
					<para>Wypisz wszystkie dostępne operatory, funkcje i stałe.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-e</option></term>
				<listitem>
					<para>Wyświetlaj wynik w postaci "1e-3" zamiast stosować przedrostki SI.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-f</option></term>
				<listitem>
					<para>Process a list of calculations from a file. See the FILE INPUT section below for more information.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-h</option></term>
				<term><option>--help</option></term>
				<listitem>
					<para>Wyświetl sposób użycia, wersję i informacje kontaktowe.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-i</option></term>
				<listitem>
					<para>Process a list of calculations from <filename class="devicefile">stdin</filename>. See the FILE INPUT section below for more information.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-q</option></term>
				<!-- <term><option>- -quiet</option></term> -->
				<listitem>
					<para>Wyświetl tylko wynik (ukrywając dane wejściowe i wszelkie błędy).</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-r</option></term>
				<!-- <term><option>- -raw</option></term> -->
				<listitem>
					<para>Wyświetlaj wynik w postaci dziesiętnej nie stosując przedrostków SI ani postaci wykładniczej.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-s</option></term>
				<!-- <term><option>- -si-prefix</option></term> -->
				<listitem>
					<para>Wyświetl wynik stosując określony przedrostek SI. Ta opcja jest ignorowana gdy użyto jednocześnie opcji <option>-e</option> lub <option>-r</option>.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-v</option></term>
				<term><option>--version</option></term>
				<listitem>
					<para>Wyświetl sposób użycia, wersję i informacje kontaktowe.</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Format liczby</title>
		<para>Numbers should be input using either "." or "," as a decimal point (this is locale dependent so both may not work in your locale), with no thousands separators.</para>
		<para><command>ralcalc</command> supports SI prefix characters for both input and output:
		<programlisting>
	<userinput>= 2u/35</userinput>
	<computeroutput>2u/35 = 57,1429n</computeroutput></programlisting>
		</para>
		<para>Numbers of the form 1e-3 are also supported, where the "e" indicates a power of ten. Don't mix and match SI prefixes and "e"  in the same number (although 1e-3n is valid, 1ne-3 is not - avoid both for less confusion).</para>
		<para>Obsługiwane przedrostki SI: Y, Z, E, P, T, G, M, k, m, u, n, p, f, a, z, y.</para>
	</refsect1>

	<refsect1>
		<title>Operatory</title>
		<para>Obsługiwane są operatory matematyczne dodawania (+), odejmowania (-), mnożenia (*, x), dzielenia (/) i potęgowania (^), przy czym dodawanie i odejmowanie wykonywane jest w ostatniej kolejności, potęgowanie zaś w pierwszej. <programlisting>
	<userinput>= 1+2x3</userinput>
	<computeroutput>1+2x3 = 7</computeroutput>

	<userinput>= 1/2^0,5</userinput>
	<computeroutput>1/2^0,5 = 0,707107</computeroutput></programlisting></para>
		<para>Można używać nawiasów ( (), [] ) w celu określenia kolejności wykonywania działań: <programlisting>
	<userinput>= [1+2]x3</userinput>
	<computeroutput>[1+2]x3 = 9</computeroutput></programlisting></para>
		<para>Można używać zarówno nawiasów okrągłych, jak i kwadratowych, co oznacza, że poprawny jest zapis [1+2)x3. W matematyce najczęściej używa się nawiasów okrągłych, lecz program dopuszcza również nawiasy kwadratowe (a także "x" jako znak mnożenia), żeby uniknąć problemów przy rozpoznawaniu tych znaków przez interpreter wiersza poleceń.</para>
		<para><command>ralcalc</command> przechowuje wynik ostatniego działania, tak aby można było odwołać się do niego używając znaku "_". <programlisting>
	<userinput>= 2^0,5</userinput>
	<computeroutput>2^0,5 = 1,41421</computeroutput>

	<userinput>= 1/_</userinput>
	<computeroutput>1/_ = 0,707107</computeroutput></programlisting></para>
	</refsect1>

	<refsect1>
		<title>Funkcje</title>
		<para>Obsługiwane są funkcje <function>sin</function>, <function>cos</function>, <function>tan</function>, <function>asin</function>, <function>acos</function>, <function>atan</function>, <function>sqrt</function>, <function>log</function> (logarytm o podstawie 10) i <function>ln</function> (logarytm naturalny). Jednostką używaną w funkcjach trygonometrycznych jest radian. Używanie nawiasów nie jest konieczne, lecz jest zalecane tam, gdzie kolejność wykonywania działań może budzić wątpliwości. Funkcje wykonywane są w tym samym kroku co mnożenie/dzielenie, należy więc zwrócić na to szczególną uwagę: <programlisting>
	<userinput>= sin2x2</userinput>
	<computeroutput>sin2x2 = 1,81859</computeroutput>

	<userinput>= sin[2x2]</userinput>
	<computeroutput>sin[2x2] = -0,756802</computeroutput></programlisting></para>
	</refsect1>

	<refsect1>
		<title>Stałe</title>
		<para>Można używać stałych <constant>pi</constant> (3,14159) oraz <constant>exp</constant> (2,71828) - są one traktowane tak jak każda inna liczba.</para>
	</refsect1>

	<refsect1 id="fileinput">
		<title>File Input</title>
		<para>A list of calculations can be processed at once by placing them in a file. Each line of the file will be process exactly the same as if <command>ralcalc</command> had been run with those arguments. The file could look like the following (note the lack of the command <command>=</command> or <command>ralcalc</command>):
			<programlisting>
	<userinput>2^0,5</userinput>
	<userinput>1/_</userinput>
	<userinput>238/1064x100</userinput></programlisting>
		</para>
		<para>File input is also possible using <filename class="devicefile">stdin</filename>, i.e. reading interactively directly from the terminal with each line being calculated as normal. To quit, type "q" or "quit" on a new line, use Ctrl-D to indicate the end of file, or use Ctrl-C to cause <command>ralcalc</command> to be terminated.</para>
		<para>If either of the file input options are given on the command line, then any calculations given on the command line will be calculated first. If both of the file input options are given, then the calculations from the <option>-f</option> will be carried out first, followed by those from <filename class="devicefile">stdin</filename>.</para>
	</refsect1>

	<refsect1>
		<title>Przykłady</title>
		<para>Basic calculation:
			<programlisting>
	<userinput>= ln 1,0001</userinput>
	<computeroutput>ln 1,0001 = 99,995u</computeroutput></programlisting>
		</para>
		<para>Exponent number output format:
			<programlisting>
	<userinput>= -e ln 1,0001</userinput>
	<computeroutput>ln 1,0001 = 9,9995e-05</computeroutput></programlisting>
		</para>
		<para>Raw number output format:
			<programlisting>
	<userinput>= -r ln 1,0001</userinput>
	<computeroutput>ln 1,0001 = 0,000100</computeroutput></programlisting>
		</para>
		<para>Number output format with a specified SI prefix:
			<programlisting>
	<userinput>= -s m ln 1,0001</userinput>
	<computeroutput>ln 1,0001 = 0,099995</computeroutput></programlisting>
		</para>
	</refsect1>

	<refsect1>
		<title>Zmienne środowiskowe</title>
		<variablelist>
			<varlistentry>
				<term><envar>HOME</envar></term>
				<listitem>
					<para>Określa lokalizację pliku .ralcalc_result.</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Exit Values</title>
		<variablelist>
			<varlistentry>
				<term>0</term>
				<listitem>
					<para>Success</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>1</term>
				<listitem>
					<para>Wystąpił co najmniej jeden błąd.</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Pliki</title>
		<para>
			<filename>${HOME}/.ralcalc_result</filename>
			<blockquote>The result of the most recent calculation, which can be accessed in a later calculation using the "_" character. Note that this is not necessarily portable across different machine architectures.</blockquote>
		</para>
	</refsect1>

	<refsect1>
		<title>Diagnostyka</title>
		<para><command>ralcalc</command> attempts to notify the user of as many errors as possible and indicate where those errors are, if they are user input related.</para>

		<para>If an unknown character is included in the equation, an "<errortext>unknown token</errortext>" error will be generated. The error marker points to the invalid character.
			<programlisting>
	<userinput>= 34/3@2</userinput>

	<computeroutput>Błąd: 34/3@2</computeroutput>
	 ^ nieznany symbol</programlisting>
		</para>

		<para>If an invalid number is included, a "<errortext>bad number</errortext>" error will be generated. The error marker points to the end of the invalid number.
			<programlisting>
	<userinput>= 3.14.159x2.8^2</userinput>

	<computeroutput>Error: 3.14.159x2.8^2</computeroutput>
	              ^ bad number</programlisting>
		</para>

		<para>If the number of open and close brackets do not match, a "<errortext>mismatched brackets</errortext>" error will be generated. The error marker position has no significance.
			<programlisting>
	<userinput>= 5/[[2+3]*9</userinput>

	<computeroutput>Error: 5/[[2+3]*9</computeroutput>
	                 ^ mismatched brackets</programlisting>
		</para>

		<para>If an operator appears in an invalid position, an "<errortext>invalid operator</errortext>" error will be generated. The error marker indicated the invalid operator.
			<programlisting>
	<userinput>= 3^^7</userinput>

	<computeroutput>Error: 3^^7</computeroutput>
	         ^ invalid operator</programlisting>
		</para>

		<para>If a bracket appears in an invalid position, an "<errortext>invalid bracket</errortext>" error will be generated. This type of error often overlaps with other errors, so there will be a number of messages written to the screen. It is best to fix this error first as it will likely be the root cause of the problem. The error marker indicates the invalid bracket.
			<programlisting>
	<userinput>= [2+]3</userinput>

	<computeroutput>Error: [2+]3</computeroutput>
	          ^ invalid bracket

	<computeroutput>Error: [2+]3</computeroutput>
	            ^ invalid operator</programlisting>
		</para>
		
		<para>Jeśli program <command>ralcalc</command> nie jest w stanie zarezerwować pamięci, zostanie zgłoszony błąd "<errortext>brak wolnej pamięci</errortext>".</para>

		<para>Internal error: If the parser notices two numbers next to each other yet does not generate a "<errortext>bad number</errortext>" error, the a "<errortext>duplicate number</errortext>" error will be generated. This should never happen.</para>

		<para>Internal error: If an unknown error code is passed to the error output function, an "<errortext>unknown error</errortext>" will be generated and the invalid error code displayed. This should never happen.</para>
	</refsect1>

	<refsect1>
		<title>Błędy</title>
		<para>Only a single "<option>-f <replaceable>filename</replaceable></option>" can be passed at once.</para>
		<para>Jeśli znajdziesz błąd w programie, zgłoś go na stronie <uri type="webpage">http://bugs.launchpad.net/ralcalc</uri></para>
	</refsect1>

	<refsect1>
		<title>Autor</title>
		<para>Roger Light <email>roger@atchoo.org</email></para>
	</refsect1>
</refentry>
