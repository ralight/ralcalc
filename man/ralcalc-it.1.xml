<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "/usr/share/sgml/docbook/xml-dtd-4.1.2/docbookx.dtd">
<refentry xml:id="ralcalc">
	<refmeta>
		<refentrytitle>ralcalc</refentrytitle>
		<manvolnum>1</manvolnum>
	</refmeta>

	<refnamediv>
		<refname>ralcalc</refname>
		<refpurpose>Una semplice calcolatrice da terminale</refpurpose>
	</refnamediv>

	<refsynopsisdiv>
		<cmdsynopsis>
			<command>ralcalc</command>
			<group choice="plain">
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-a</option></arg>
						<arg choice="plain"><option>--all</option></arg>
					</group>
				</arg>
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-h</option></arg>
						<arg choice="plain"><option>--help</option></arg>
					</group>
				</arg>
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-v</option></arg>
						<arg choice="plain"><option>--version</option></arg>
					</group>
				</arg>
			</group>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>ralcalc</command>
			<group choice="opt">
				<arg><option>-e</option></arg>
				<arg><option>-r</option></arg>
			</group>
			<arg><option>-f</option> <replaceable>Nome del file</replaceable></arg>
			<arg><option>-i</option></arg>
			<arg><option>-q</option></arg>
			<arg><option>-s</option><replaceable>prefisso</replaceable></arg>
			<arg choice="plain"><replaceable>equazione</replaceable></arg>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>=</command>
			<group choice="plain">
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-a</option></arg>
						<arg choice="plain"><option>--all</option></arg>
					</group>
				</arg>
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-h</option></arg>
						<arg choice="plain"><option>--help</option></arg>
					</group>
				</arg>
				<arg choice="plain">
					<group choice="req">
						<arg choice="plain"><option>-v</option></arg>
						<arg choice="plain"><option>--version</option></arg>
					</group>
				</arg>
			</group>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>=</command>
			<group choice="opt">
				<arg><option>-e</option></arg>
				<arg><option>-r</option></arg>
			</group>
			<arg><option>-f</option> <replaceable>Nome del file</replaceable></arg>
			<arg><option>-i</option></arg>
			<arg><option>-q</option></arg>
			<arg><option>-s</option><replaceable>prefisso</replaceable></arg>
			<arg choice="plain"><replaceable>equazione</replaceable></arg>
		</cmdsynopsis>
	</refsynopsisdiv>

	<refsect1>
		<title>Descrizione</title>
		<para><command>ralcalc</command> é una calcolatrice a liena di comando pesata per dei calcoli molto veloci dove forse si vuole un solo risultato senza dover far partire e poi chiudere un programma.</para>

		<para><command>ralcalc</command> é installato anche come il comando <command>=</command> per renderne l'uso ancora piú veloce.</para>
	</refsect1>

	<refsect1>
		<title>Opzioni</title>
		<variablelist>
			<varlistentry>
				<term><option>-a</option></term>
				<term><option>--all</option></term>
				<listitem>
					<para>Stampa tutti i possibili operatori, funzioni e contanti.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-e</option></term>
				<listitem>
					<para>Mostra il risultato nella forma "1e-3" invece di usare il pefisso SI</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-f</option></term>
				<listitem>
					<para>Processa una lista di calcoli da un file. Leggere la seguente sezione FILE INPUT per maggiori informazioni.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-h</option></term>
				<term><option>--help</option></term>
				<listitem>
					<para>Uso del display, dettagli su versione e contatti</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-i</option></term>
				<listitem>
					<para>Processa una lista di calcoli da un file <filename class="devicefile">stdin</filename>. Leggere la seguente sezione FILE INPUT per maggiori informazioni</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-q</option></term>
				<!-- <term><option>- -quiet</option></term> -->
				<listitem>
					<para>Mostra il solo risulatato (nascondendo gli input ed eventuali errori)</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-r</option></term>
				<!-- <term><option>- -raw</option></term> -->
				<listitem>
					<para>Mostra il risultato nella forma decimale senza il prefisso SI o esponente</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-s</option></term>
				<!-- <term><option>- -si-prefix</option></term> -->
				<listitem>
					<para>Mostra il risulatato usando un particolare prefisso SI. Questa opzione é ingorata se <option>-e</option> o <option>-r</option> sono usate anch'esse.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-v</option></term>
				<term><option>--version</option></term>
				<listitem>
					<para>Uso del display, dettagli su versione e contatti</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Formato del numero</title>
		<para>I numberi in ingresso usano sia "." che "," come virgola decimale (queste impostazioni dipendono dal locale impostato nel sistema, quindi potrebbero non funzionare sul tuo) senza specificare separatori per le migliaia.</para>
		<para><command>ralcalc</command> supporta il prefisso SI  sia per input che output: <programlisting>
	<userinput>= 2u/35</userinput>
	<computeroutput>2u/35 = 57.1429n</computeroutput></programlisting></para>
		<para>I numeri nella forma 1e-3 sono anch'essi supportati, dove la "e" indica le potenze di 10. Non mischiare il prefisso SI e la notazione "e" nello stesso numero (altrimenti 1e-3n é valida, 1ne-3 non lo é - evitare entrambi per avere meno confisioni)</para>
		<para>I prefissi SI supportati sono: Y, Z, E, P, T, G, M, k, m, u, n, p, f, a, z, y.</para>
	</refsect1>

	<refsect1>
		<title>Operatori</title>
		<para>I semplici opreatori matematici per addizione (+), sottrazione (-), moltiplicazione (*, x), divisione (/) e potenza (^) sono supportati, con addizione e sottrazione con la precedenza minore, mentre la potenza con precedenza maggiore. <programlisting>
	<userinput>= 1+2x3</userinput>
	<computeroutput>1+2x3 = 7</computeroutput>

	<userinput>= 1/2^0.5</userinput>
	<computeroutput>1/2^0.5 = 0.707107</computeroutput></programlisting></para>
		<para>Le parentesi ( ( ), [ ] ) possono essere usate per controllare la precedenza  delle operazioni processate: <programlisting>
	<userinput>= [1+2]x3</userinput>
	<computeroutput>[1+2]x3 = 9</computeroutput></programlisting></para>
		<para>Sia le parentesi quadre che quelle tonde possono essere usate e sono equivalenti, quindi [1+2)x3 é valida. Le parentesi tonde sono piú comunemente utilizzate in matematica, ma le parentesi quadre (ed il simbolo "x" per la moltiplicazione) sono incluse per cercare di prevenire alla shell di espandere questi caratteri.</para>
		<para><command>ralcalc</command> memorizza il risultato dei calcoli cosí da essere utilizzati nelle prossime computazioni con il carattere "_". <programlisting>
	<userinput>= 2^0.5</userinput>
	<computeroutput>2^0.5 = 1.41421</computeroutput>

	<userinput>= 1/_</userinput>
	<computeroutput>1/_ = 0.707107</computeroutput></programlisting></para>
	</refsect1>

	<refsect1>
		<title>Funzioni</title>
		<para>Le funzioni <function>sin</function>, <function>cos</function>, <function>tan</function>, <function>asin</function>, <function>acos</function>, <function>atan</function>, <function>sqrt</function>, <function>log</function> (logaritmo in base 10) e <function>ln</function> (logaritmo naturale) sono supportate. Le funzioni trigonometriche funzionano con valori espressi in radianti. L'uso delle parentesi non é necessario, ma é raccomandato quando le precedenze possono essere mal interpretate. Le funzioni hanno le stesse precedenze di moltiplicazione/divisione, così vanno usate con cautela: <programlisting>
	<userinput>= sin2x2</userinput>
	<computeroutput>sin2x2 = 1.81859</computeroutput>

	<userinput>= sin[2x2]</userinput>
	<computeroutput>sin[2x2] = -0.756802</computeroutput></programlisting></para>
	</refsect1>

	<refsect1>
		<title>Costanti</title>
		<para>Le costanti <constant>pi</constant> (3.14159) e <constant>exp</constant> (2.71828) possono essere usate e sono trattate esattamente come qualsiasi altro numero.</para>
	</refsect1>

	<refsect1 id="fileinput">
		<title>File Input</title>
		<para>Una lista di calcoli possono essere processati in una singola volta mettendole in un file. Ogni linea del file sará processata esattamente come se fosse stato eseguito il comando <command>ralcalc</command> senza argomenti. Il file potrebbe assomigliare al seguente (notare l'assenza di comandi <command>=</command> o <command>ralcalc</command>): <programlisting>
	<userinput>2^0.5</userinput>
	<userinput>1/_</userinput>
	<userinput>238/1064x100</userinput></programlisting></para>
		<para>Gli input da file é anche possibile usando <filename class="devicefile">stdin</filename>, come se ogni linea fosse inserita direttamente da terminale come usualmente. Per uscire premere "q" o "quit" su una nuova linea, usare Ctrl-D per indicare la fine del file, o usare Ctrl-C per far si che <command>ralcalc</command> venga terminato.</para>
		<para>Se al comando vengono specificati sia un file in input che operazioni dalla linea di comando, allora i calcoli dati da linea di comando verranno eseguiti prima. Se entrambe le opzioni sono state date allora i calcoli da <option>-f</option> saranno eseguiti per primi, seguiti da quelli provenienti da <filename class="devicefile">stdin</filename>.</para>
	</refsect1>

	<refsect1>
		<title>Esempi</title>
		<para>Calcoli base: <programlisting>
	<userinput>= ln 1.0001</userinput>
	<computeroutput>ln 1.0001 = 99.995u</computeroutput></programlisting></para>
		<para>Formato di output dell'esponente: <programlisting>
	<userinput>= -e ln 1.0001</userinput>
	<computeroutput>ln 1.0001 = 9.9995e-05</computeroutput></programlisting></para>
		<para>Formato approssimato di output del numero: <programlisting>
	<userinput>= -r ln 1.0001</userinput>
	<computeroutput>ln 1.0001 = 0.000100</computeroutput></programlisting></para>
		<para>Formato di output del numer con uno specifico prefisso SI: <programlisting>
	<userinput>= -s m ln 1.0001</userinput>
	<computeroutput>ln 1.0001 = 0.099995</computeroutput></programlisting></para>
	</refsect1>

	<refsect1>
		<title>Variabili d'Ambiente</title>
		<variablelist>
			<varlistentry>
				<term><envar>HOME</envar></term>
				<listitem>
					<para>Determina dove i file .ralcalc_result sono salvati.</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Valore d'uscita</title>
		<variablelist>
			<varlistentry>
				<term>0</term>
				<listitem>
					<para>Successo</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>1</term>
				<listitem>
					<para>Almeno un errore è stato riscontrato</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Files</title>
		<para>
			<filename>${HOME}/.ralcalc_result</filename>
			<blockquote>Il risultato del calcolo più recente può essere riutilizzato in un calcolo seguente usando il carattere "_". Nota che questo potrebbe non essere portabile attraverso differenti tipi di architettura dei pc</blockquote>
		</para>
	</refsect1>

	<refsect1>
		<title>Diagnostica</title>
		<para><command>ralcalc</command> cerca di notificare all'utente il maggiorn numero possibile di errori verificatis e dove essi si trovano, se questi sono relativi all'input dell'utente.</para>

		<para>Se un carattere sconosciuto è incluso nell'equazione, un errore "<errortext>simbolo sconosciuto</errortext>" sarà generato. Il puntatore di errore sarà sotto il carattere invalido. <programlisting>
	<userinput>= 34/3@2</userinput>

	<computeroutput>Error: 34/3@2</computeroutput>
	           ^ unknown token</programlisting></para>

		<para>Se un numero invalido viene incluso, verrà generato un errore "<errortext>bad number</errortext>".  Un indicatore d'errore sarà posto alla fine del numero invalido.  <programlisting>
	<userinput>= 3.14.159x2.8^2</userinput>

	<computeroutput>Error: 3.14.159x2.8^2</computeroutput>
	              ^ numero errato</programlisting></para>

		<para>Se il numero di parentesi aperte e chiuse non coincide, un errore "<errortext>parentesi mal poste</errortext>" verrà generato. Il puntatore all'errore non ha alcun significato.</para>

		<para>Se un operatore appare in una posizione invalida, un errore "<errortext>operatore invalido</errortext>" sarà generato. Il puntatore di errore sarà sotto l'operatore invalido. <programlisting>
	<userinput>= 3^^7</userinput>

	<computeroutput>Error: 3^^7</computeroutput>
	         ^ operatore invalido</programlisting></para>

		<para>Se una parentesi appare in una posizione non valida, un errore "<errortext>parentesi invalida</errortext>" sarà generata. Questo genere di errori solitamente si sovrappone ad altri errori, quindi ci saranno un certo numero di messaggi sullo schermo. E' il miglior modo di correggere l'errore in quanto questo probabilmente è la causa principale del problema. Il puntatore all'errore indica la parentesi invalida. <programlisting>
	<userinput>= [2+]3</userinput>

	<computeroutput>Error: [2+]3</computeroutput>
	          ^ parentesi invalida

	<computeroutput>Error: [2+]3</computeroutput>
	            ^ operatore invalido</programlisting></para>
		
		<para>Se <command>ralcalc</command> non riesce ad allocare abbastanza memoria, un errore "<errortext>out of memory</errortext>" sarà generato.</para>

		<para>Errore interno: Se il parser nota due numeri vicini uno all'altro non genera ancora un errore "<errortext>numero inesatto</errortext>", l'errore "<errortext>numero duplicato</errortext>" verrà generato. Questo non dovrebbe mai accadere.</para>

		<para>Errore interno: Se un codice d'errore sconosciuto è passato come output alla funzione di controllo errori, un errore "<errortext>errore sconosciuto</errortext>" sarà generato e visualizzato il codice invalido di errore. Questo non dovrebbe mai succedere.</para>
	</refsect1>

	<refsect1>
		<title>Bugs</title>
		<para>Soltanto una singola "<option>-f <replaceable>filename</replaceable></option>"  può essere passata per volta.</para>
		<para>Se trovi un bug, per favore invia un report a  <uri type="webpage">http://bugs.launchpad.net/ralcalc</uri></para>
	</refsect1>

	<refsect1>
		<title>Autore</title>
		<para>Roger Light <email>roger@atchoo.org</email></para>
	</refsect1>
</refentry>
