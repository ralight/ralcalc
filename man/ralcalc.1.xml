<?xml version='1.0' encoding='ISO-8859-1'?>
<?xml-stylesheet type="text/xsl" href="http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "/usr/share/sgml/docbook/xml-dtd-4.1.2/docbookx.dtd">


<refentry xml:id="ralcalc">
	<refmeta>
		<refentrytitle>ralcalc</refentrytitle>
		<manvolnum>1</manvolnum>
	</refmeta>

	<refnamediv>
		<refname>ralcalc</refname>
		<refpurpose>a simple command line calculator</refpurpose>
	</refnamediv>

	<refsynopsisdiv>
		<cmdsynopsis>
			<command>ralcalc</command>
			<group choice='plain'>
				<arg choice='plain'>
					<group choice='req'>
						<arg choice='plain'><option>-a</option></arg>
						<arg choice='plain'><option>--all</option></arg>
					</group>
				</arg>
				<arg choice='plain'>
					<group choice='req'>
						<arg choice='plain'><option>-h</option></arg>
						<arg choice='plain'><option>--help</option></arg>
					</group>
				</arg>
				<arg choice='plain'>
					<group choice='req'>
						<arg choice='plain'><option>-v</option></arg>
						<arg choice='plain'><option>--version</option></arg>
					</group>
				</arg>
			</group>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>ralcalc</command>
			<group choice='opt'>
				<arg><option>-e</option></arg>
				<arg><option>-r</option></arg>
			</group>
			<group choice='opt'>
				<arg><option>-f</option> <replaceable>filename</replaceable></arg>
				<arg><option>-i</option></arg>
			</group>
			<arg><option>-q</option></arg>
			<arg choice='plain'><replaceable>equation</replaceable></arg>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>=</command>
			<group choice='plain'>
				<arg choice='plain'>
					<group choice='req'>
						<arg choice='plain'><option>-a</option></arg>
						<arg choice='plain'><option>--all</option></arg>
					</group>
				</arg>
				<arg choice='plain'>
					<group choice='req'>
						<arg choice='plain'><option>-h</option></arg>
						<arg choice='plain'><option>--help</option></arg>
					</group>
				</arg>
				<arg choice='plain'>
					<group choice='req'>
						<arg choice='plain'><option>-v</option></arg>
						<arg choice='plain'><option>--version</option></arg>
					</group>
				</arg>
			</group>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>=</command>
			<group choice='opt'>
				<arg><option>-e</option></arg>
				<arg><option>-r</option></arg>
			</group>
			<group choice='opt'>
				<arg><option>-f</option> <replaceable>filename</replaceable></arg>
				<arg><option>-i</option></arg>
			</group>
			<arg><option>-q</option></arg>
			<arg choice='plain'><replaceable>equation</replaceable></arg>
		</cmdsynopsis>
	</refsynopsisdiv>

	<refsect1>
		<title>Description</title>
		<para><command>ralcalc</command> is a command line calculator designed for
		very quick calculations where perhaps only a single result is wanted
		without having to start and then quit a program.</para>

		<para><command>ralcalc</command> is also installed as the
		<command>=</command> command to make using it even quicker.</para>
	</refsect1>

	<refsect1>
		<title>Options</title>
		<variablelist>
			<varlistentry>
				<term><option>-a</option></term>
				<term><option>--all</option></term>
				<listitem>
					<para>Print out all of the available operators, functions and constants.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-e</option></term>
				<listitem>
					<para>Display the result in the "1e-3" form rather than using SI prefixes.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-f</option></term>
				<listitem>
					<para>Process a list of calculations from a file. See the <!-- FIXME -->FILE INPUT section below for more information.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-h</option></term>
				<term><option>--help</option></term>
				<listitem>
					<para>Display usage, version and contact details.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-i</option></term>
				<listitem>
					<para>Process a list of calculations from <filename class="devicefile">stdin</filename>. See the <!-- FIXME -->FILE INPUT section below for more information.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-q</option></term>
				<!-- <term><option>- -quiet</option></term> -->
				<listitem>
					<para>Only display the result (so hide the input and any errors).</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-r</option></term>
				<!-- <term><option>- -raw</option></term> -->
				<listitem>
					<para>Display the result in decimal format with neither SI prefixes nor exponent.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term><option>-v</option></term>
				<term><option>--version</option></term>
				<listitem>
					<para>Display usage, version and contact details.</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Number Format</title>
		<para>Numbers should be input using either "." or "," as a decimal point (this is locale dependent so both may not work in your locale), with no thousands separators.</para>
		<para><command>ralcalc</command> supports SI prefix characters for both input and output:
		<programlisting>
	<userinput>= 2u/35</userinput>
	<computeroutput>2u/35 = 57.1429n</computeroutput></programlisting>
		</para>
		<para>Numbers of the form 1e-3 are also supported, where the "e" indicates a power of ten. Don't mix and match SI prefixes and "e"  in the same number (although 1e-3n is valid, 1ne-3 is not - avoid both for less confusion).</para>
	</refsect1>

	<refsect1>
		<title>Operators</title>
		<para>The simple mathematical operators for addition (+), subtraction (-), multiplication (*, x), division (/) and power (^) are supported, with addition and subtraction having the lowest precedence and power having the highest. The functions log (base 10 logarithm) and ln (natural logarithm) are also supported.
			<programlisting>
	<userinput>= 1+2x3</userinput>
	<computeroutput>1+2x3 = 7</computeroutput>

	<userinput>= 10log 0.5</userinput>
	<computeroutput>10log 0.5 = -3.00976</computeroutput></programlisting>
		</para>
		<para>Brackets ( (), [] ) can be used to control the order in which statements are processed:
			<programlisting>
	<userinput>= [1+2]x3</userinput>
	<computeroutput>[1+2]x3 = 9</computeroutput></programlisting>
		</para>
		<para>Both the square and round brackets can be used and are both directly equivalent, so [1+2)x3 is also valid. Round brackets are more commonly used in mathematics, but the square brackets (and the "x" for multiplication) are included to try to prevent problems with the shell expanding those characters.</para>
		<para><command>ralcalc</command> stores the result of the calculation so that it can be used in the next calculation with the "_" character.
			<programlisting>
	<userinput>= 2^0.5</userinput>
	<computeroutput>2^0.5 = 1.41421</computeroutput>

	<userinput>= 1/_</userinput>
	<computeroutput>1/_ = 0.707107</computeroutput></programlisting>
		</para>
	</refsect1>

	<refsect1>
		<title>Functions</title>
	</refsect1>

	<refsect1>
		<title>Constants</title>
	</refsect1>

	<refsect1>
		<title>File Input</title>
	</refsect1>

	<refsect1>
		<title>Files</title>
		<para>
			<filename>${HOME}/.ralcalc_result</filename>
			<blockquote>The result of the most recent calculation, which can be accessed in a later calculation using the "_" character. Note that this is not necessarily portable across different machine architectures.</blockquote>
		</para>
	</refsect1>

	<refsect1>
		<title>Environment</title>
		<variablelist>
			<varlistentry>
				<term><envar>HOME</envar></term>
				<listitem>
					<para>Determines where the .ralcalc_result file is stored.</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Diagnostics</title>
	</refsect1>

	<refsect1>
		<title>Exit Values</title>
		<variablelist>
			<varlistentry>
				<term>0</term>
				<listitem>
					<para>Success</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>1</term>
				<listitem>
					<para>At least one error occurred.</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Bugs</title>
		<para>Only a single "<arg choice='plain'>-f <replaceable>filename</replaceable></arg>" can be passed at once.</para>
		<para>If you find a bug, please submit a report at <uri>http://bugs.launchpad.net/ralcalc</uri></para>
	</refsect1>

	<refsect1>
		<title>Author</title>
		<para>Roger Light &lt;roger@atchoo.org&gt;</para>
	</refsect1>
</refentry>
